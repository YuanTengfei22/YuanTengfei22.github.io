<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>优雅爱心时空 - 致张健芸</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background: radial-gradient(circle at center, #0a0a1a 0%, #050510 70%, #000005 100%);
            font-family: 'Segoe UI', 'PingFang SC', 'Microsoft YaHei', sans-serif;
            overflow: hidden;
            color: #fff;
        }
        
        #container {
            position: relative;
            width: 100vw;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        canvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
        }
        
        #name {
            position: absolute;
            z-index: 3;
            font-size: 5rem;
            font-weight: 300;
            opacity: 0;
            color: #ffffff;
            text-shadow: 0 0 20px rgba(180, 220, 255, 0.8);
            animation: nameAppear 2.5s cubic-bezier(0.23, 1, 0.32, 1) forwards;
            animation-delay: 3.8s;
            text-align: center;
            line-height: 1.2;
            letter-spacing: 3px;
            font-family: 'Georgia', 'Times New Roman', serif;
        }
        
        #queen {
            position: absolute;
            z-index: 4;
            font-size: 2.8rem;
            font-weight: 400;
            opacity: 0;
            color: #ffe6f2;
            text-shadow: 0 0 15px rgba(255, 200, 220, 0.7);
            animation: queenAppear 2.2s ease-out forwards;
            animation-delay: 5.5s;
            text-align: center;
            line-height: 1.3;
            top: 58%;
            width: 100%;
            letter-spacing: 2px;
            font-family: 'Palatino Linotype', 'Book Antiqua', serif;
        }
        
        @keyframes nameAppear {
            0% {
                opacity: 0;
                transform: translateY(40px) scale(0.9);
                filter: blur(15px);
            }
            60% {
                opacity: 1;
                transform: translateY(0) scale(1.02);
                filter: blur(0);
            }
            100% {
                opacity: 1;
                transform: translateY(0) scale(1);
                filter: blur(0);
            }
        }
        
        @keyframes queenAppear {
            0% {
                opacity: 0;
                transform: translateY(30px);
                letter-spacing: 10px;
            }
            100% {
                opacity: 1;
                transform: translateY(0);
                letter-spacing: 2px;
            }
        }
        
        #instructions {
            position: absolute;
            bottom: 50px;
            left: 0;
            width: 100%;
            text-align: center;
            color: rgba(255, 255, 255, 0.7);
            font-size: 1.2rem;
            z-index: 3;
            opacity: 1;
            font-weight: 300;
            letter-spacing: 1px;
            transition: opacity 1.5s ease;
        }
        
        /* 响应式调整 */
        @media (max-width: 768px) {
            #name {
                font-size: 3.5rem;
            }
            
            #queen {
                font-size: 2.2rem;
                top: 60%;
            }
            
            #instructions {
                font-size: 1rem;
                padding: 0 10px;
            }
        }
        
        @media (max-width: 480px) {
            #name {
                font-size: 2.8rem;
            }
            
            #queen {
                font-size: 1.8rem;
                top: 65%;
            }
        }
    </style>
</head>
<body>
    <div id="container">
        <canvas id="heartCanvas"></canvas>
        <div id="name">张健芸</div>
        <div id="queen">亲爱的女王大人</div>
        <div id="instructions">爱心正在时空扩散中...</div>
    </div>

    <script>
        // 获取Canvas元素和上下文
        const heartCanvas = document.getElementById('heartCanvas');
        const ctx = heartCanvas.getContext('2d');
        
        // 设置Canvas尺寸为窗口大小
        function resizeCanvas() {
            heartCanvas.width = window.innerWidth;
            heartCanvas.height = window.innerHeight;
        }
        
        // 初始调整Canvas大小
        resizeCanvas();
        
        // 窗口大小变化时重新调整Canvas
        window.addEventListener('resize', resizeCanvas);
        
        // 爱心粒子数组
        let heartParticles = [];
        
        // 优雅配色方案
        const colorPalette = [
            {main: '#ff9ec5', light: '#ffc2d8'}, // 柔粉色
            {main: '#ffb6c1', light: '#ffd1d9'}, // 浅粉
            {main: '#ffccd2', light: '#ffe6e9'}, // 粉白色
            {main: '#d8a7ca', light: '#e8c5df'}, // 淡紫粉
            {main: '#ffb7b2', light: '#ffd5d3'}, // 珊瑚粉
        ];
        
        // 优雅爱心粒子类
        class ElegantHeart {
            constructor() {
                // 中心点
                this.centerX = heartCanvas.width / 2;
                this.centerY = heartCanvas.height / 2;
                
                // 初始位置在中心
                this.x = this.centerX;
                this.y = this.centerY;
                
                // 目标位置
                this.targetRadius = Math.random() * Math.min(heartCanvas.width, heartCanvas.height) * 0.45;
                this.targetAngle = Math.random() * Math.PI * 2;
                this.targetX = this.centerX + Math.cos(this.targetAngle) * this.targetRadius;
                this.targetY = this.centerY + Math.sin(this.targetAngle) * this.targetRadius;
                
                // 大小 - 稍微大一点，清晰可见
                this.size = Math.random() * 5 + 3;
                
                // 颜色
                const colorIndex = Math.floor(Math.random() * colorPalette.length);
                this.color = colorPalette[colorIndex].main;
                this.lightColor = colorPalette[colorIndex].light;
                
                // 动画参数
                this.progress = 0;
                this.speed = Math.random() * 0.015 + 0.008; // 控制扩散速度
                this.rotation = Math.random() * Math.PI * 2;
                this.rotationSpeed = (Math.random() - 0.5) * 0.02;
                
                // 透明度
                this.alpha = 0;
                this.fadeInSpeed = Math.random() * 0.03 + 0.02;
                this.fadeOutStart = 0.7; // 开始淡出的进度点
                
                // 延迟启动
                this.delay = Math.floor(Math.random() * 40);
                
                // 轨迹
                this.trail = [];
                this.trailLength = 8;
                
                // 脉动
                this.pulse = Math.random() * Math.PI * 2;
                this.pulseSpeed = Math.random() * 0.03 + 0.02;
            }
            
            // 更新爱心状态
            update() {
                // 处理延迟
                if (this.delay > 0) {
                    this.delay--;
                    return true;
                }
                
                // 淡入效果
                if (this.alpha < 1 && this.progress < 0.3) {
                    this.alpha += this.fadeInSpeed;
                    if (this.alpha > 1) this.alpha = 1;
                }
                
                // 更新进度
                if (this.progress < 1) {
                    this.progress += this.speed;
                    
                    // 使用缓动函数
                    const easedProgress = this.easeOutCubic(this.progress);
                    
                    // 计算当前位置
                    this.x = this.centerX + (this.targetX - this.centerX) * easedProgress;
                    this.y = this.centerY + (this.targetY - this.centerY) * easedProgress;
                    
                    // 添加轨迹点
                    if (this.progress > 0.1) {
                        this.trail.push({
                            x: this.x,
                            y: this.y,
                            alpha: this.alpha * 0.6,
                            size: this.size * 0.7
                        });
                        
                        // 保持轨迹长度
                        if (this.trail.length > this.trailLength) {
                            this.trail.shift();
                        }
                    }
                }
                
                // 开始淡出
                if (this.progress > this.fadeOutStart && this.alpha > 0) {
                    this.alpha -= 0.01;
                }
                
                // 更新旋转
                this.rotation += this.rotationSpeed;
                
                // 更新脉动
                this.pulse += this.pulseSpeed;
                
                // 如果爱心完全透明，标记为可移除
                return this.alpha > 0.05 && this.progress < 1.2;
            }
            
            // 缓动函数
            easeOutCubic(t) {
                return 1 - Math.pow(1 - t, 3);
            }
            
            // 绘制爱心
            draw() {
                ctx.save();
                
                // 绘制轨迹
                for (let i = 0; i < this.trail.length; i++) {
                    const point = this.trail[i];
                    const trailAlpha = point.alpha * (i / this.trail.length);
                    const trailSize = point.size * (0.3 + 0.7 * (i / this.trail.length));
                    
                    ctx.globalAlpha = trailAlpha * 0.8;
                    ctx.fillStyle = this.lightColor;
                    
                    // 绘制轨迹爱心
                    this.drawHeartShape(point.x, point.y, trailSize);
                }
                
                // 绘制爱心本体
                ctx.globalAlpha = this.alpha;
                
                // 创建径向渐变使爱心更有立体感
                const gradient = ctx.createRadialGradient(
                    this.x - this.size/3, this.y - this.size/3, 0,
                    this.x, this.y, this.size * 1.5
                );
                gradient.addColorStop(0, this.lightColor);
                gradient.addColorStop(0.7, this.color);
                gradient.addColorStop(1, 'rgba(255, 255, 255, 0.1)');
                
                ctx.fillStyle = gradient;
                
                // 计算脉动大小
                const pulseSize = this.size * (1 + 0.15 * Math.sin(this.pulse));
                
                // 绘制爱心形状
                this.drawHeartShape(this.x, this.y, pulseSize);
                
                ctx.restore();
            }
            
            // 绘制爱心形状
            drawHeartShape(x, y, size) {
                ctx.save();
                ctx.translate(x, y);
                ctx.rotate(this.rotation);
                
                // 使用更优雅的爱心形状
                ctx.beginPath();
                
                // 顶部凹陷
                ctx.moveTo(0, -size/2.5);
                
                // 左上部曲线
                ctx.bezierCurveTo(
                    -size/2, -size/2,
                    -size, 0,
                    -size/2, size/3
                );
                
                // 左下部曲线
                ctx.bezierCurveTo(
                    -size/3, size/1.5,
                    0, size/2,
                    0, size/2
                );
                
                // 右下部曲线
                ctx.bezierCurveTo(
                    0, size/2,
                    size/3, size/1.5,
                    size/2, size/3
                );
                
                // 右上部曲线
                ctx.bezierCurveTo(
                    size, 0,
                    size/2, -size/2,
                    0, -size/2.5
                );
                
                ctx.closePath();
                ctx.fill();
                
                // 添加高光
                ctx.fillStyle = 'rgba(255, 255, 255, 0.3)';
                ctx.beginPath();
                ctx.ellipse(-size/4, -size/4, size/6, size/8, 0, 0, Math.PI * 2);
                ctx.fill();
                
                ctx.restore();
            }
        }
        
        // 创建背景星空
        function createStarfield() {
            const stars = [];
            const starCount = Math.floor((heartCanvas.width * heartCanvas.height) / 4000);
            
            for (let i = 0; i < starCount; i++) {
                stars.push({
                    x: Math.random() * heartCanvas.width,
                    y: Math.random() * heartCanvas.height,
                    size: Math.random() * 1.2 + 0.3,
                    brightness: Math.random() * 0.7 + 0.3,
                    twinkleSpeed: Math.random() * 0.03 + 0.01,
                    twinkleOffset: Math.random() * Math.PI * 2
                });
            }
            
            return stars;
        }
        
        // 绘制星空背景
        function drawStarfield(stars) {
            stars.forEach(star => {
                star.twinkleOffset += star.twinkleSpeed;
                const brightness = star.brightness * (0.7 + 0.3 * Math.sin(star.twinkleOffset));
                
                ctx.fillStyle = `rgba(255, 255, 255, ${brightness})`;
                ctx.beginPath();
                ctx.arc(star.x, star.y, star.size, 0, Math.PI * 2);
                ctx.fill();
            });
        }
        
        // 绘制时空隧道效果
        function drawTunnelEffect() {
            const centerX = heartCanvas.width / 2;
            const centerY = heartCanvas.height / 2;
            const maxRadius = Math.min(heartCanvas.width, heartCanvas.height) * 0.6;
            
            // 绘制中心光晕
            const centerGradient = ctx.createRadialGradient(
                centerX, centerY, 0,
                centerX, centerY, maxRadius * 0.3
            );
            centerGradient.addColorStop(0, 'rgba(180, 220, 255, 0.15)');
            centerGradient.addColorStop(1, 'rgba(180, 220, 255, 0)');
            
            ctx.fillStyle = centerGradient;
            ctx.beginPath();
            ctx.arc(centerX, centerY, maxRadius * 0.3, 0, Math.PI * 2);
            ctx.fill();
            
            // 绘制时空隧道线条
            ctx.strokeStyle = 'rgba(200, 220, 255, 0.08)';
            ctx.lineWidth = 0.8;
            
            // 绘制同心圆
            for (let i = 1; i <= 4; i++) {
                const radius = (maxRadius / 4) * i;
                ctx.beginPath();
                ctx.arc(centerX, centerY, radius, 0, Math.PI * 2);
                ctx.stroke();
            }
            
            // 绘制放射线
            for (let i = 0; i < 24; i++) {
                const angle = (i / 24) * Math.PI * 2;
                const endX = centerX + Math.cos(angle) * maxRadius;
                const endY = centerY + Math.sin(angle) * maxRadius;
                
                ctx.beginPath();
                ctx.moveTo(centerX, centerY);
                ctx.lineTo(endX, endY);
                ctx.stroke();
            }
        }
        
        // 初始化爱心粒子
        function initHeartParticles() {
            heartParticles = [];
            
            // 创建大量爱心粒子
            const particleCount = 1500;
            
            for (let i = 0; i < particleCount; i++) {
                // 分批创建，形成连续扩散效果
                setTimeout(() => {
                    heartParticles.push(new ElegantHeart());
                }, i * 5);
            }
        }
        
        // 创建星空背景
        const starfield = createStarfield();
        
        // 动画循环
        function animate() {
            // 清空画布
            ctx.clearRect(0, 0, heartCanvas.width, heartCanvas.height);
            
            // 绘制渐变背景
            const bgGradient = ctx.createRadialGradient(
                heartCanvas.width / 2, heartCanvas.height / 2, 0,
                heartCanvas.width / 2, heartCanvas.height / 2, Math.max(heartCanvas.width, heartCanvas.height) / 2
            );
            bgGradient.addColorStop(0, 'rgba(15, 15, 40, 0.3)');
            bgGradient.addColorStop(1, 'rgba(5, 5, 15, 0.9)');
            
            ctx.fillStyle = bgGradient;
            ctx.fillRect(0, 0, heartCanvas.width, heartCanvas.height);
            
            // 绘制星空
            drawStarfield(starfield);
            
            // 绘制时空隧道效果
            drawTunnelEffect();
            
            // 更新和绘制爱心粒子
            for (let i = heartParticles.length - 1; i >= 0; i--) {
                const heart = heartParticles[i];
                
                // 更新爱心状态
                if (!heart.update()) {
                    heartParticles.splice(i, 1);
                } else {
                    heart.draw();
                }
            }
            
            // 继续动画循环
            requestAnimationFrame(animate);
        }
        
        // 初始化动画
        function init() {
            // 初始化爱心粒子
            initHeartParticles();
            
            // 开始动画
            animate();
            
            // 4秒后隐藏提示文字
            setTimeout(() => {
                document.getElementById('instructions').style.opacity = 0;
            }, 4000);
        }
        
        // 启动初始化
        init();
    </script>
</body>
</html>
